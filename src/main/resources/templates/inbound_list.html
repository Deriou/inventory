<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{common :: commonHead('采购订单记录')}"></head>
<body>

<div>
    <nav th:replace="~{common :: sidebar('inbound', 'inbound_list')}"></nav>

    <main>
        <div th:replace="~{common :: topbar}"></div>

        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center mb-4 border-bottom pb-3">
            <div>
                <h1 class="h4 mb-1">采购订单记录</h1>
                <span class="text-muted small">查看所有历史采购单据及入库状态</span>
            </div>
        </div>

        <div class="card card-erp">
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-hover align-middle mb-0">
                        <thead class="bg-light text-muted">
                        <tr>
                            <th class="ps-4" style="width: 120px;">单据编号</th>
                            <th>采购商品</th>
                            <th>数量</th>
                            <th>进货单价</th>
                            <th>订单总额</th>
                            <th>当前状态</th>
                            <th class="text-end pe-4">创建时间</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="i : ${inbounds}">
                            <td class="ps-4">
                                <span class="font-monospace text-primary fw-bold" th:text="|PO-${i.id}|"></span>
                            </td>
                            <td>
                                <div class="fw-bold text-dark" th:text="${i.productName}"></div>
                            </td>
                            <td>
                                <span class="badge bg-light text-dark border" th:text="${i.quantity}"></span>
                            </td>
                            <td class="text-muted">¥ <span th:text="${i.purchasePrice}"></span></td>
                            <td class="fw-bold text-dark">¥ <span th:text="${i.quantity * i.purchasePrice}"></span></td>

                            <td>
                                    <span th:if="${i.status == 0}" class="badge bg-warning-subtle text-warning border border-warning-subtle rounded-pill">
                                        <i class="bi bi-clock me-1"></i> 待入库
                                    </span>
                                <span th:if="${i.status == 1}" class="badge bg-success-subtle text-success border border-success-subtle rounded-pill">
                                        <i class="bi bi-check-all me-1"></i> 已入库
                                    </span>
                            </td>

                            <td class="text-end pe-4 text-muted small"
                                th:text="${#temporals.format(i.createTime, 'yyyy-MM-dd HH:mm')}">
                            </td>
                        </tr>

                        <tr th:if="${#lists.isEmpty(inbounds)}">
                            <td colspan="7" class="text-center py-5 text-muted">
                                <i class="bi bi-clipboard-x fs-1 d-block mb-3"></i>
                                暂无采购记录
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>
</div>

<div th:replace="~{common :: commonScripts}"></div>

</body>
</html>