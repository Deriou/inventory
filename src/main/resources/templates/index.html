<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{common :: commonHead('仪表盘')}"></head>
<body>

<div class="container-fluid">
    <div class="row">
        <nav th:replace="~{common :: sidebar('index', 'index')}"></nav>

        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">

            <div th:replace="~{common :: topbar}"></div>

            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                <h1 class="h2">仪表盘</h1>
                <div class="btn-toolbar mb-2 mb-md-0">
                    <button type="button" class="btn btn-sm btn-outline-secondary">
                        <i class="bi bi-download"></i> 导出报表
                    </button>
                </div>
            </div>

            <div class="row mb-4">
                <div class="col-md-3">
                    <div class="card card-erp bg-primary text-white h-100">
                        <div class="card-body">
                            <h6 class="text-uppercase small">今日销售额</h6>
                            <h2 class="display-6 fw-bold mt-2">¥1,203</h2>
                            <small class="opacity-50">比昨日 +15%</small>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card card-erp bg-success text-white h-100">
                        <div class="card-body">
                            <h6 class="text-uppercase small">本月订单</h6>
                            <h2 class="display-6 fw-bold mt-2">45 单</h2>
                            <small class="opacity-50">完成率 98%</small>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card card-erp bg-warning text-dark h-100">
                        <div class="card-body">
                            <h6 class="text-uppercase small">库存预警</h6>
                            <h2 class="display-6 fw-bold mt-2">3 项</h2>
                            <small>需尽快补货</small>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card card-erp bg-info text-white h-100">
                        <div class="card-body">
                            <h6 class="text-uppercase small">待入库</h6>
                            <h2 class="display-6 fw-bold mt-2">2 单</h2>
                            <small class="opacity-50">点击去处理</small>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card card-erp mb-4">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <span><i class="bi bi-graph-up"></i> 近 7 天销售趋势</span>
                </div>
                <div class="card-body">
                    <div id="mainChart" style="width: 100%; height: 350px;"></div>
                </div>
            </div>

        </main>
    </div>
</div>

<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.4.2/echarts.min.js"></script>

<script>
    // 简单的图表初始化 (为了不报错，先写死数据)
    var myChart = echarts.init(document.getElementById('mainChart'));
    var option = {
        tooltip: { trigger: 'axis' },
        grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
        xAxis: { type: 'category', boundaryGap: false, data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'] },
        yAxis: { type: 'value' },
        series: [{
            name: '销售额', type: 'line', smooth: true,
            data: [820, 932, 901, 934, 1290, 1330, 1320],
            areaStyle: { opacity: 0.3 },
            itemStyle: { color: '#4e73df' }
        }]
    };
    myChart.setOption(option);
    window.onresize = function() { myChart.resize(); };
</script>

</body>
</html>